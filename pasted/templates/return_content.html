{% extends "layout.html" %}

{% block paste_body_content %}
{%   set url_home = url_for('index') %}
<pre>
  <code class="border">{{ content }}</code>
</pre>

{%   with messages = get_flashed_messages(with_categories=true) %}
{%     if messages %}
{%       for category, message in messages %}
<pre id="cp_btn" class="alert alert-{{ category }}" type="button" onclick="copy_span()" data-toggle="tooltip" data-placement="bottom" title="&#x270D; Click the URL to copy it into the clipboard." value="{{ message }}">{{ remote_url }}</pre>
{%       endfor %}
{%     else %}
<pre id="cp_btn" class="alert alert-dark" type="button" onclick="copy_span()" data-toggle="tooltip" data-placement="bottom" title="&#x270D; Click the URL to copy it into the clipboard." value="Copy To Clipboard">{{ remote_url }}</pre>
{%     endif %}
{%   endwith %}

<hr />

<div class="m-auto">
  <input class="btn btn-primary btn-sm" style="float: right;" type="button" onclick="location.href='{{ url }}.raw';" value="Paste RAW" />
  <input class="btn btn-primary btn-sm" style="float: left;" type="button" onclick="location.href='{{ url_home }}';" value="Go Home" />
  <br />
  <br />
</div>

<script>
// Adding event listener whern the "copy to clipboard button is pressed"
document.getElementById("cp_btn").addEventListener("click", copy_span);
function copy_span() {
    var copyText = document.getElementById("cp_btn");
    var textArea = document.createElement("textarea");
    textArea.value = copyText.textContent;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand("Copy");
    textArea.remove();
}
</script>

<div class="text-center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-5448276988475897"
        data-ad-slot="9434609574"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

{% endblock %}
